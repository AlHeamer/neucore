# Typescript Vue Frontend

## Setup

- `npm i`
- generate swagger code first
	- this happens as part of `vagrant up`
	- alternatively, you can setup [swagger-codegen](https://github.com/swagger-api/swagger-codegen)
		- run `vendor/bin/swagger --exclude bin,config,docs,var,vendor,web --output web` to generate swagger.json
		- run from the project root: `swagger-codegen generate -i web/swagger.json -l typescript-fetch -o frontend/swagger`
		- run npm 

## Commands

- `npm run build` for a dev build
- `npm run watch` for dev rebuild on change
- `npm run check` to lint and validate frontend
- `npm run build:prod` for a minified production build


## Swagger Codegen

api.js and api.d.ts are symlinks to frontend/swagger/dist/*.js

frontend/swagger is generated by swagger codegen (which is automatic in vagrant up)
```
java -jar swagger-codegen.jar generate  -c frontend/swagger-options.json -i web/swagger.json -l typescript-fetch -o frontend/swagger
cd frontend/swagger && npm i
```

swagger-options.json is required to change the naming scheme. for some reason typescript-fetch is [dumb](https://github.com/swagger-api/swagger-codegen/issues/3818) and changes the
typing to camelCase but leaves the actual values as snake_case?

## TODO

- have travis run `npm run check`
- might be reasonable to setup vuex if we have to manage lots of state between components, or vue-router for multiple pages.

- login button
- handle returning from login
- show user info
