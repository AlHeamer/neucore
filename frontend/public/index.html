<!DOCTYPE html>
<!--suppress ES6ConvertVarToLetConst, HtmlUnknownTarget -->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="<%= BASE_URL %>favicon.ico">
        <title></title>
        <%
        // Handle theme CSS files
        const cssFiles = [];
        for (let i = 0; i < htmlWebpackPlugin.files.css.length; i++) {
            const file = htmlWebpackPlugin.files.css[i];
            if (file.match(/css\/theme-/)) {
                %><link href="/<%= file %>" rel="alternate stylesheet"><%
            } else {
                cssFiles.push(file);
            }
        }
        htmlWebpackPlugin.files.css = cssFiles;
        %>
        <script type="text/javascript">
            // noinspection JSUnusedGlobalSymbols
            function setTheme(theme) {
                window.APP_DEFAULT_THEME = theme;
                var links = document.getElementsByTagName('link');
                for (var i = 0; i < links.length; i++) {
                    if (links[i].getAttribute('href').indexOf('css/theme-' + theme.toLowerCase()) !== -1) {
                        links[i].disabled = false;
                        links[i].setAttribute('rel', 'stylesheet');
                        break;
                    }
                }
            }
        </script>
        <script type="text/javascript" src="<%= BASE_URL %>theme.js"></script>
    </head>
    <body class="neucore" style="background-color: #333333; color: #dddddd">

        <h1 id="headline" class="text-center">Neucore - Alliance Services</h1>
        <noscript><h5 class="text-center">You need to enable JavaScript to run this application.</h5></noscript>
        <h5 id="unsupportedBrowser" class="text-center" style="display: none">
            You are using an <em>outdated</em> browser. Please
            <a href="https://browsehappy.com/" target="_blank" rel="noopener noreferrer"
               style="color: #3291CB">upgrade your browser</a> to improve your experience and security.
        </h5>
        <script type="text/javascript">
            document.getElementById('unsupportedBrowser').style.display = 'block';
        </script>
        <script type="text/javascript">
            const supported = () => function () {};
            document.getElementById('headline').remove();
            document.getElementById('unsupportedBrowser').remove();
            document.body.removeAttribute('style');
        </script>

        <div id="app"></div>

        <%
        // Handle theme JS files (remove them)
        const jsFiles = [];
        for (let i = 0; i < htmlWebpackPlugin.files.js.length; i++) {
            const file = htmlWebpackPlugin.files.js[i];
            if (!file.match(/js\/theme-/)) {
                jsFiles.push(file);
            }
        }
        htmlWebpackPlugin.files.js = jsFiles;
        %>
    </body>
</html>
