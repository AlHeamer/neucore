<!DOCTYPE html>
<!--suppress HtmlUnknownTarget -->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="<%= BASE_URL %>favicon.ico">
        <title>Neucore - Alliance Core Services</title>
        <%
        // Manually inject required files
        for (let i = 0; i < htmlWebpackPlugin.files.js.length; i++) {
            const file = htmlWebpackPlugin.files.js[i];
            if (!file.match(/js\/theme-/)) {
                %><script defer src="<%= file %>"></script><%
            }
        }
        for (let i = 0; i < htmlWebpackPlugin.files.css.length; i++) {
            const file = htmlWebpackPlugin.files.css[i];
            const alternate = file.match(/css\/theme-/) ? 'alternate' : '';
            %><link href="<%= file %>" rel="<%= alternate %> stylesheet"><%
        }
        %>
        <script type="text/javascript">
            function setTheme(theme) {
                window.APP_DEFAULT_THEME = theme;
                const links = document.getElementsByTagName('link');
                for (let i = 0; i < links.length; i++) {
                    if (links[i].getAttribute('href').indexOf('css/theme-' + theme.toLowerCase()) !== -1) {
                        links[i].disabled = false;
                        links[i].setAttribute('rel', 'stylesheet');
                        break;
                    }
                }
            }
        </script>
        <script type="text/javascript" src="<%= BASE_URL %>theme.js"></script>
    </head>

    <body class="neucore" style="background-color: #333333; color: #dddddd; font-family: sans-serif;">

        <noscript>
            <h1>Neucore - Alliance Core Services</h1>
            <p>
                A web application for EVE Online communities to organise their members into groups,
                monitor them and provide access to external services,
                <a style="color: cyan" href="https://github.com/tkhamez/neucore" target="_blank"
                   rel="noopener noreferrer">GitHub tkhamez/neucore</a>.
            </p>
            <br>
            <small style="font-weight: bold">You need to enable <em>JavaScript</em> to run this application.</small>
        </noscript>

        <div id="unsupportedBrowser" style="display: none; padding: 10px">
            <h3 style="font-weight: bold">Neucore - Alliance Core Services</h3>
            <small style="font-weight: bold">
                You are using an <span style="color: orangered"><em>outdated</em> browser</span>. Please
                <a style="color: cyan" href="https://browsehappy.com/" target="_blank"
                   rel="noopener noreferrer">upgrade your browser</a> to improve your experience and security.
            </small>
            <br>
        </div>

        <!--suppress JSUnusedGlobalSymbols -->
        <script>
            const isBrowserSupported = () => 1;
        </script>
        <script>
            if (typeof isBrowserSupported !== typeof Function) {
                document.getElementById('unsupportedBrowser').style.display = 'block';
            } else {
                document.getElementById('unsupportedBrowser').remove();
                document.body.removeAttribute('style');
            }
        </script>

        <div id="app"></div>

    </body>
</html>
